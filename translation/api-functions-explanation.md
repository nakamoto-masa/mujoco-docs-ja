# APIreference/functions.rst と functions_override.rst の位置付け

## ファイル構成

APIreferenceの目次には以下の3つのみが表示される：
- **APItypes.rst** - 型定義
- **APIfunctions.rst** - 関数リファレンス
- **APIglobals.rst** - グローバル変数

## functions.rst と functions_override.rst の関係

### APIfunctions.rst（翻訳対象）
- 手動で書かれた概要と関数の分類
- 最後に `.. include:: functions.rst` で自動生成ドキュメントをインクルード

### functions.rst（自動生成・翻訳不要）
- **C言語ヘッダーファイルから自動生成**
- functions_override.rst の内容をマージして生成される
- 冒頭に `AUTOGENERATED: DO NOT EDIT MANUALLY` の記載
- APIfunctions.rst からインクルードされる

### functions_override.rst（自動生成の入力ファイル）
- セクションの説明文と関数ドキュメントのオーバーライドを含む
- 冒頭の説明：
  > "This file contains each section text along with function doc overrides. By default the docs use the function doc pulled from the header files."
- 自動生成プロセスの**入力**として使用される
- 単独ページとしてはビルドされない

## 自動生成の仕組み（オリジナル）

```
┌─────────────────────┐
│ヘッダーファイル      │
│(mujoco.h など)      │
└──────────┬──────────┘
           │
           ├────────────────┐
           │                │
           ▼                ▼
┌──────────────────┐  ┌──────────────────────┐
│関数シグネチャ     │  │functions_override.rst│
│基本ドキュメント   │  │(手動編集)            │
└──────────┬───────┘  └──────────┬───────────┘
           │                      │
           └──────────┬───────────┘
                      │
                      ▼
              ┌───────────────┐
              │生成スクリプト │
              └───────┬───────┘
                      │
                      ▼
              ┌───────────────┐
              │functions.rst  │
              │(自動生成)     │
              └───────┬───────┘
                      │
                      ▼
              ┌───────────────────┐
              │APIfunctions.rst   │
              │(include経由で統合)│
              └───────────────────┘
```

## exclude_patterns に含まれる理由

両方とも `exclude_patterns` に含まれている：

```python
exclude_patterns = [
    # ...
    'APIreference/functions.rst',        # 自動生成ファイル（ソースとして扱わない）
    'APIreference/functions_override.rst',  # 単独ビルドしない（生成の入力）
]
```

- **functions.rst**: 自動生成されるファイルなので、ソースドキュメントとして扱わない
- **functions_override.rst**: 単独のページとしてビルドせず、functions.rst 生成の入力として使用

## 翻訳版での扱い

### 現状

翻訳版には **functions.rst を自動生成する仕組みがない**ため：
- functions_override.rst を翻訳しても、マージされない
- functions.rst をそのまま翻訳することもできない（自動生成ファイルのため）

### 翻訳対象

1. **APItypes.rst** ✅ 翻訳対象
2. **APIfunctions.rst** ✅ 翻訳対象（概要と分類の部分）
3. **APIglobals.rst** ✅ 翻訳対象
4. **functions.rst** 🈚 自動生成（翻訳不要）
5. **functions_override.rst** 🈚 生成の入力（翻訳版では使用しない）

### 推奨アプローチ

APIfunctions.rst の手動部分（概要と分類）のみを翻訳し、functions.rst はオリジナルの英語版をそのままインクルードする。

自動生成されたAPIドキュメント（関数シグネチャやパラメータ説明）は技術的な内容が主なので、英語のままでも実用上問題ない。
